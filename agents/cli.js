#!/usr/bin/env node
/**
 * CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è AI Marketing Team
 * 
 * –ó–∞–ø—É—Å–∫: node agents/cli.js [agent-name] [task]
 * –ü—Ä–∏–º–µ—Ä—ã:
 *   node agents/cli.js cmo "–†–∞–∑—Ä–∞–±–æ—Ç–∞–π GTM —Å—Ç—Ä–∞—Ç–µ–≥–∏—é"
 *   node agents/cli.js content_manager "–°–æ–∑–¥–∞–π –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω –Ω–∞ 90 –¥–Ω–µ–π"
 *   node agents/cli.js market_researcher "–ü—Ä–æ–≤–µ–¥–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑"
 */

import { AGENTS, PRODUCT_CONTEXT } from './index.js';

const args = process.argv.slice(2);
const agentName = args[0] || 'cmo';
const task = args.slice(1).join(' ');

/**
 * –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–º–ø—Ç –¥–ª—è –∞–≥–µ–Ω—Ç–∞
 */
function getAgentPrompt(agent) {
  return agent.prompt;
}

/**
 * –°–∏–º—É–ª—è—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –∞–≥–µ–Ω—Ç–∞ (–≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ - –≤—ã–∑–æ–≤ LLM)
 */
function simulateAgentResponse(agent, task) {
  const responses = {
    cmo: {
      default: `## CMO: –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ–Ω–∏–º–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏: "${task}"

### –ê–Ω–∞–ª–∏–∑

–î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ —è –¥–µ–ª–µ–≥–∏—Ä—É—é –ø–æ–¥–∑–∞–¥–∞—á–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º:

${getDelegationPlan(task)}

### –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

1. **–§–∞–∑–∞ 1 (–î–Ω–∏ 1-7)**: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
2. **–§–∞–∑–∞ 2 (–î–Ω–∏ 8-21)**: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
3. **–§–∞–∑–∞ 3 (–î–Ω–∏ 22-30)**: –ó–∞–ø—É—Å–∫ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

- –ü–æ–ª–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è
- –ù–∞–±–æ—Ä –≥–æ—Ç–æ–≤—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- –ó–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –ª–∏–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
`
    },
    brand_strategist: {
      default: `## Brand Strategist: –†–∞–±–æ—Ç–∞ —Å –±—Ä–µ–Ω–¥–æ–º

–ó–∞–¥–∞—á–∞: "${task}"

### –ê–Ω–∞–ª–∏–∑ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü—Ä–æ–¥—É–∫—Ç**: ${PRODUCT_CONTEXT.name}
**–ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: ${PRODUCT_CONTEXT.positioning}

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–£—Å–∏–ª–∏—Ç—å –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞—Ü–∏—é** - –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å "–ú–ª–∞–¥—à–∏–π –Æ—Ä–∏—Å—Ç 24/7"
2. **Tone of Voice**: –£–≤–µ—Ä–µ–Ω–Ω–æ, –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ, –±–µ–∑ "–º–∞–≥–∏–∏ –ò–ò"
3. **–ö–ª—é—á–µ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è**:
   - –ö–æ–Ω—Ç—Ä–æ–ª—å —Å—Ä–æ–∫–æ–≤ –∏ —Ä–∏—Å–∫–æ–≤
   - –ú–ª–∞–¥—à–∏–π —é—Ä–∏—Å—Ç 24/7 –≤ –∫–æ–º–∞–Ω–¥–µ
   - –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –¥–ª—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞
`
    },
    market_researcher: {
      default: `## Market Researcher: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ä—ã–Ω–∫–∞

–ó–∞–¥–∞—á–∞: "${task}"

### –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è

${PRODUCT_CONTEXT.targetAudience}

### –ë–æ–ª–∏ –¶–ê

${PRODUCT_CONTEXT.keyPains.map((pain, i) => `${i + 1}. ${pain}`).join('\n')}

### –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã –≤ –†–§

1. **–°–±–µ—Ä.–Æ—Ä–∏—Å—Ç, –Ø–Ω–¥–µ–∫—Å.–ü—Ä–∞–≤–æ** - –Ω–∏–∑–∫–∞—è —Ü–µ–Ω–∞, B2C —Ñ–æ–∫—É—Å
2. **–ó–∞–ø–∞–¥–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è** - –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –†–§
3. **–ù–∏—à–µ–≤—ã–µ AI** - –ü—Ä–∞–≤–æ–º–µ—Ç—Ä, –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –ø–æ–º–æ—â–Ω–∏–∫ (–ø—Ä–æ—Ç–æ—Ç–∏–ø—ã)

### –ù–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úì –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª legal ops
‚úì –†–∞–±–æ—Ç–∞ —Å —Ä–æ—Å—Å–∏–π—Å–∫–∏–º –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º
‚úì –§–æ–∫—É—Å –Ω–∞ SMB
‚úì –ü–µ—Ä—Å–æ–Ω–∞ "–ú–ª–∞–¥—à–∏–π –Æ—Ä–∏—Å—Ç"
`
    },
    content_manager: {
      default: `## Content Manager: –ö–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω

–ó–∞–¥–∞—á–∞: "${task}"

### –ö–æ–Ω—Ç–µ–Ω—Ç-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–∞ 90 –¥–Ω–µ–π

**–§–∞–∑–∞ 1: –î–æ–≤–µ—Ä–∏–µ (–î–Ω–∏ 1-30)**
- –ü–æ—Å—Ç—ã –æ –±–æ–ª—è—Ö SMB —é—Ä–∏—Å—Ç–æ–≤
- –ß–µ–∫-–ª–∏—Å—Ç—ã –ø–æ —Å—Ä–æ–∫–∞–º
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**–§–∞–∑–∞ 2: –≠–∫—Å–ø–µ—Ä—Ç–Ω–æ—Å—Ç—å (–î–Ω–∏ 31-60)**
- –ö–µ–π—Å—ã "–¥–æ/–ø–æ—Å–ª–µ"
- –†–∞–∑–±–æ—Ä—ã "—á—Ç–æ –¥–µ–ª–∞—Ç—å –∑–∞ 24/72 —á–∞—Å–∞"
- –ü–æ—Å—Ç—ã –æ—Ç –ª–∏—Ü–∞ "–ú–ª–∞–¥—à–µ–≥–æ –Æ—Ä–∏—Å—Ç–∞"

**–§–∞–∑–∞ 3: –ö–æ–Ω–≤–µ—Ä—Å–∏—è (–î–Ω–∏ 61-90)**
- –ü–∏–ª–æ—Ç–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
- –û—Ç—Ä–∞—Å–ª–µ–≤—ã–µ –ª–µ–Ω–¥–∏–Ω–≥–∏
- –û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤

### –†—É–±—Ä–∏–∫–∏

1. –°—Ä–æ–∫–∏ –∏ —Ä–∏—Å–∫–∏ –Ω–µ–¥–µ–ª–∏
2. –†–∞–∑–±–æ—Ä —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–µ–π—Å–∞
3. 24/72 Legal Ops
4. –ê–Ω—Ç–∏—Ö–∞–æ—Å –≤ —é—Ä–ø—Ä–æ—Ü–µ—Å—Å–∞—Ö
5. –ó–∞–ø–∏—Å–∫–∏ –¥–µ–∂—É—Ä–Ω–æ–≥–æ —é—Ä–∏—Å—Ç–∞
`
    },
    growth_marketer: {
      default: `## Growth Marketer: –õ–∏–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è

–ó–∞–¥–∞—á–∞: "${task}"

### –í–æ—Ä–æ–Ω–∫–∞

\`\`\`
Awareness ‚Üí Interest ‚Üí Desire ‚Üí Action
    ‚Üì           ‚Üì          ‚Üì        ‚Üì
  –ö–æ–Ω—Ç–µ–Ω—Ç     –õ–µ–Ω–¥–∏–Ω–≥    –î–µ–º–æ     –ü–∏–ª–æ—Ç
  –†–µ–∫–ª–∞–º–∞     Email     –ö–ü      –î–æ–≥–æ–≤–æ—Ä
\`\`\`

### –ö–∞–Ω–∞–ª—ã

1. **LinkedIn** - —Ç–∞—Ä–≥–µ—Ç –Ω–∞ —é—Ä–∏—Å—Ç–æ–≤ –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤
2. **Telegram Ads** - —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –∏ –±–∏–∑–Ω–µ—Å –∫–∞–Ω–∞–ª—ã
3. **–Ø–Ω–¥–µ–∫—Å –î–∏—Ä–µ–∫—Ç** - –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞
4. **–ö–æ–Ω—Ç–µ–Ω—Ç-–º–∞—Ä–∫–µ—Ç–∏–Ω–≥** - VC.ru, Telegram

### –ú–µ—Ç—Ä–∏–∫–∏

- –õ–∏–¥—ã: 50+/–º–µ—Å—è—Ü
- –î–µ–º–æ: 20+/–º–µ—Å—è—Ü
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è –î–µ–º–æ‚Üí–ü–∏–ª–æ—Ç: 25%
- CAC: < 15,000 —Ä—É–±
`
    },
    product_marketer: {
      default: `## Product Marketer: –ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –º–∞—Ä–∫–µ—Ç–∏–Ω–≥

–ó–∞–¥–∞—á–∞: "${task}"

### –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

${PRODUCT_CONTEXT.positioning}

### Pricing Strategy

| –¢–∞—Ä–∏—Ñ | –¶–µ–Ω–∞ | –§—É–Ω–∫—Ü–∏–∏ |
|-------|------|---------|
| Solo | 15,000 —Ä—É–±/–º–µ—Å | 1 –∫–µ–π—Å, –±–∞–∑–æ–≤—ã–µ |
| Team | 35,000 —Ä—É–±/–º–µ—Å | 10 –∫–µ–π—Å–æ–≤, –ø–æ–ª–Ω—ã–π |
| Enterprise | –æ—Ç 80,000 —Ä—É–±/–º–µ—Å | –ë–µ–∑–ª–∏–º–∏—Ç, API |

### –ü–∏–ª–æ—Ç

14 –¥–Ω–µ–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ ‚Üí –∫–æ–Ω–≤–µ—Ä—Å–∏—è ~40%

### GTM –°—Ç—Ä–∞—Ç–µ–≥–∏—è

1. Pre-launch (30 –¥–Ω–µ–π –¥–æ)
2. Soft launch (–ø—É–±–ª–∏–∫–∞—Ü–∏—è)
3. Growth (–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
`
    },
    social_media_manager: {
      default: `## Social Media Manager: –°–æ—Ü—Å–µ—Ç–∏

–ó–∞–¥–∞—á–∞: "${task}"

### –ö–∞–Ω–∞–ª—ã

1. **Telegram** (–æ—Å–Ω–æ–≤–Ω–æ–π) - 5 –ø–æ—Å—Ç–æ–≤/–Ω–µ–¥–µ–ª—é
2. **LinkedIn** - 2-3 –ø–æ—Å—Ç–∞/–Ω–µ–¥–µ–ª—é  
3. **VC.ru** - 1-2 —Å—Ç–∞—Ç—å–∏/–º–µ—Å—è—Ü

### –ö–æ–Ω—Ç–µ–Ω—Ç-–∫–∞–ª–µ–Ω–¥–∞—Ä—å (Telegram)

| –î–µ–Ω—å | –†—É–±—Ä–∏–∫–∞ |
|------|---------|
| –ü–Ω | –°—Ä–æ–∫–∏ –∏ —Ä–∏—Å–∫–∏ –Ω–µ–¥–µ–ª–∏ |
| –í—Ç | –†–∞–∑–±–æ—Ä –∫–µ–π—Å–∞ |
| –°—Ä | –ó–∞–ø–∏—Å–∫–∏ –¥–µ–∂—É—Ä–Ω–æ–≥–æ —é—Ä–∏—Å—Ç–∞ |
| –ß—Ç | 24/72 Legal Ops |
| –ü—Ç | –ê–Ω—Ç–∏—Ö–∞–æ—Å |

### –•—ç—à—Ç–µ–≥–∏

#—é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ—É—Å–ª—É–≥–∏ #legalops #mldshiyurist #smb #–±–∏–∑–Ω–µ—Å
`
    }
  };

  return responses[agentName]?.default || '–ó–∞–¥–∞—á–∞ –ø—Ä–∏–Ω—è—Ç–∞. –î–µ–ª–µ–≥–∏—Ä—É—é...';
}

/**
 * –ü–ª–∞–Ω –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è CMO
 */
function getDelegationPlan(task) {
  const taskLower = task.toLowerCase();
  
  if (taskLower.includes('–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç') || taskLower.includes('–∏—Å—Å–ª–µ–¥')) {
    return `‚Üí Market Researcher: –ü—Ä–æ–≤–µ—Å—Ç–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑`;
  }
  if (taskLower.includes('–∫–æ–Ω—Ç–µ–Ω—Ç') || taskLower.includes('–ø–æ—Å—Ç') || taskLower.includes('—Å—Ç–∞—Ç—å')) {
    return `‚Üí Content Manager: –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω\n‚Üí Social Media Manager: –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–æ—Å—Ç—ã`;
  }
  if (taskLower.includes('gtm') || taskLower.includes('–∑–∞–ø—É—Å–∫') || taskLower.includes('–ø–∏–ª–æ—Ç')) {
    return `‚Üí Product Marketer: –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å GTM –º–∞—Ç–µ—Ä–∏–∞–ª—ã\n‚Üí Growth Marketer: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–æ—Ä–æ–Ω–∫—É`;
  }
  if (taskLower.includes('–±—Ä–µ–Ω–¥') || taskLower.includes('–ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω')) {
    return `‚Üí Brand Strategist: –ü—Ä–æ—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ`;
  }
  
  return `‚Üí Brand Strategist: –ë—Ä–µ–Ω–¥ –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
‚Üí Market Researcher: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Ä—ã–Ω–∫–∞
‚Üí Content Manager: –ö–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω
‚Üí Growth Marketer: –õ–∏–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è
‚Üí Product Marketer: GTM –º–∞—Ç–µ—Ä–∏–∞–ª—ã
‚Üí Social Media Manager: –°–æ—Ü—Å–µ—Ç–∏`;
}

/**
 * –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
 */
async function main() {
  console.log('\nüéØ AI Marketing Team - –Æ—Ä–®—Ç–∞–± AI\n');
  console.log('=' .repeat(50));
  
  const agent = AGENTS[agentName];
  
  if (!agent) {
    console.error(`‚ùå –ê–≥–µ–Ω—Ç "${agentName}" –Ω–µ –Ω–∞–π–¥–µ–Ω.`);
    console.log('\n–î–æ—Å—Ç—É–ø–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã:');
    Object.entries(AGENTS).forEach(([key, value]) => {
      console.log(`  - ${key}: ${value.displayName} (${value.role})`);
    });
    process.exit(1);
  }
  
  console.log(`\nüë§ –ê–≥–µ–Ω—Ç: ${agent.displayName}`);
  console.log(`üìã –†–æ–ª—å: ${agent.role}`);
  console.log(`\nüìù –ó–∞–¥–∞—á–∞: ${task || '(–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º)'}`);
  console.log('-'.repeat(50));
  
  if (task) {
    // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
    console.log('\nü§ñ –ì–µ–Ω–µ—Ä–∏—Ä—É—é –æ—Ç–≤–µ—Ç...\n');
    const response = simulateAgentResponse(agent, task);
    console.log(response);
  } else {
    // –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
    console.log('\nüí° –í–≤–µ–¥–∏—Ç–µ –∑–∞–¥–∞—á—É –¥–ª—è –∞–≥–µ–Ω—Ç–∞');
    console.log('   –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: node agents/cli.js <agent> "<task>"');
  }
  
  console.log('\n' + '='.repeat(50));
  console.log('‚ú® –ì–æ—Ç–æ–≤–æ\n');
}

main().catch(console.error);
